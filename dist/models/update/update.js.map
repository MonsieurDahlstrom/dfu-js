{"version":3,"sources":["../../../src/models/update/update.js"],"names":["Update","deviceID","webBluetoothControlPoint","webBluetoothPacketPoint","identifier","state","NOT_CONFIGURED","setControlPoint","setPacketPoint","transfers","newIdentifier","webBluetoothCharacteristic","controlpointCharacteristic","undefined","packetCharacteristic","IDLE"],"mappings":";;;;;;;;;;;;;;AAAA;;;;;;IAEqBA,M;AAEnB,kBAAaC,QAAb,EAAuBC,wBAAvB,EAAiDC,uBAAjD,EAA0E;AAAA;;AACxE,SAAKC,UAAL,GAAkBH,QAAlB;AACA,SAAKI,KAAL,GAAa,uBAAaC,cAA1B;AACA,SAAKC,eAAL,CAAqBL,wBAArB;AACA,SAAKM,cAAL,CAAoBL,uBAApB;AACA,SAAKM,SAAL,GAAiB,EAAjB;AACD;;;;wCAEoBC,a,EAAe;AAClC,WAAKN,UAAL,GAAkBM,aAAlB;AACD;;;oCAEgBC,0B,EAA4B;AAC3C,WAAKC,0BAAL,GAAkCD,0BAAlC;AACA,UAAI,KAAKN,KAAL,KAAe,uBAAaC,cAA5B,IAA8C,KAAKM,0BAAL,KAAoCC,SAAlF,IAA+F,KAAKC,oBAAL,KAA8BD,SAAjI,EAA4I;AAC1I,aAAKR,KAAL,GAAa,uBAAaU,IAA1B;AACD;AACF;;;mCAEeJ,0B,EAA4B;AAC1C,WAAKG,oBAAL,GAA4BH,0BAA5B;AACA,UAAI,KAAKN,KAAL,KAAe,uBAAaC,cAA5B,IAA8C,KAAKM,0BAAL,KAAoCC,SAAlF,IAA+F,KAAKC,oBAAL,KAA8BD,SAAjI,EAA4I;AAC1I,aAAKR,KAAL,GAAa,uBAAaU,IAA1B;AACD;AACF;;;;;kBA1BkBf,M","file":"update.js","sourcesContent":["import UpdateStates from './update-states'\n\nexport default class Update {\n\n  constructor (deviceID, webBluetoothControlPoint, webBluetoothPacketPoint) {\n    this.identifier = deviceID\n    this.state = UpdateStates.NOT_CONFIGURED\n    this.setControlPoint(webBluetoothControlPoint)\n    this.setPacketPoint(webBluetoothPacketPoint)\n    this.transfers = []\n  }\n\n  setDeviceIdentifier (newIdentifier) {\n    this.identifier = newIdentifier\n  }\n  \n  setControlPoint (webBluetoothCharacteristic) {\n    this.controlpointCharacteristic = webBluetoothCharacteristic\n    if (this.state === UpdateStates.NOT_CONFIGURED && this.controlpointCharacteristic !== undefined && this.packetCharacteristic !== undefined) {\n      this.state = UpdateStates.IDLE\n    }\n  }\n\n  setPacketPoint (webBluetoothCharacteristic) {\n    this.packetCharacteristic = webBluetoothCharacteristic\n    if (this.state === UpdateStates.NOT_CONFIGURED && this.controlpointCharacteristic !== undefined && this.packetCharacteristic !== undefined) {\n      this.state = UpdateStates.IDLE\n    }\n  }\n\n\n}\n"]}